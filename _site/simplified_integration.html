<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Simplified integration | Transactionale - Technical Docs</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="documentation-theme-jekyll" href="http://0.0.0.0:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Transactionale Technical Docs</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Simplified integration">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle">Integration Doc 2.0</li>
  
  
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="index.html">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Technical instructions custom</a>
      <ul>
          
          
          
          <li><a href="full_integration.html">Full integration</a></li>
          
          
          
          
          
          
          <li class="active"><a href="simplified_integration.html">Simplified integration</a></li>
          
          
          
          
          
          
          
          
          <li><a href="events.html">Events docs</a></li>
          
          
          
          
          
          
          <li><a href="custom_events.html">Custom events</a></li>
          
          
          
          
          
          
          <li><a href="entities.html">Entities</a></li>
          
          
          
          
          
          
          <li><a href="webhook.html">Webhook</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Technical instructions other platforms</a>
      <ul>
          
          
          
          <li><a href="shopify.html">Shopify</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Language</a>
      <ul>
          
          
          
          <li><a href="https://flyertech.github.io/trx_docs_it/" target="_blank">Italiano</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Simplified integration</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    


    

  <h2 id="overview">Overview</h2>
<p>The integration consists in the inclusion of a JavaScript tag that allows acquiring the intentions of users during their navigation on your website.
The snippet is made up of two parts:</p>

<ul>
  <li>The <a href="snippet_loader.html">loader</a>: a JavaScript library that has to be loaded on every page. It is required for the other snippets to interact with the Transactionale servers and to enable the UI for end users.</li>
  <li>The tracker: allows tracking the navigation events for your visitors (products they display or buy) that we will use to make the best targeted recommendations.</li>
</ul>

<p>Implementing the tracker is quick, simple and invisible for users. The quality of our recommendations depends directly on the quality of the tracker implementation, including installing the tag on all the pages, providing all the available parameters, etc.</p>

<p>The tag:</p>

<ul>
  <li>does not alter in any way the look of the website and is completely invidible to users</li>
  <li>it’s asynchronous and does not slow down loading of the site</li>
  <li>must be integrated in the correct parts of the required pages of the website</li>
</ul>

<div class="bs-callout bs-callout-">The semplified integration is discouraged for publishers since it reduces the profiling quality, and thus the lead generation performance.</div>

<h2 id="put-the-loader-tag-in-all-the-pages">Put the loader tag in all the pages</h2>
<p>The loader tag goes in the <code class="highlighter-rouge">&lt;head&gt;</code> of your base template.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span> <span class="o">||</span> <span class="p">[];</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
        <span class="na">event</span><span class="p">:</span> <span class="s1">'setAccount'</span><span class="p">,</span> <span class="na">account</span><span class="p">:</span> <span class="s1">'**API-KEY**'</span><span class="p">,</span> <span class="na">country</span><span class="p">:</span> <span class="s1">'IT'</span>
    <span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://static.transactionale.com/trx/v2/trx.js"</span> <span class="na">async=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h2 id="put-the-viewpage-tag-in-all-the-pages">Put the <code class="highlighter-rouge">viewPage</code> tag in all the pages</h2>
<p>This tag should be inserted preferably before the closing <code class="highlighter-rouge">&lt;/body&gt;</code>, or in any case after the loader inside the <code class="highlighter-rouge">&lt;head&gt;</code> tag.</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="p">{</span> <span class="na">event</span><span class="p">:</span> <span class="s1">'viewPage'</span><span class="p">}</span>
<span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>You can also invoke the <code class="highlighter-rouge">viewPage</code> along with the loader creation:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script&gt;</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span> <span class="o">||</span> <span class="p">[];</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
        <span class="p">{</span> <span class="na">event</span><span class="p">:</span> <span class="s1">'setAccount'</span><span class="p">,</span> <span class="na">account</span><span class="p">:</span> <span class="s1">'**API-KEY**'</span><span class="p">,</span> <span class="na">country</span><span class="p">:</span> <span class="s1">'IT'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="na">event</span><span class="p">:</span> <span class="s1">'viewPage'</span> <span class="p">}</span>
    <span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://static.transactionale.com/trx/v2/trx.js"</span> <span class="na">async=</span><span class="s">"true"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h2 id="put-the-tracktransaction-in-the-order-confirmation-page">Put the <code class="highlighter-rouge">trackTransaction</code> in the order confirmation page</h2>
<p>This tag should be inserted preferably before the closing <code class="highlighter-rouge">&lt;/body&gt;</code>, or in any case after the loader inside the <code class="highlighter-rouge">&lt;head&gt;</code> tag.
You must fill as many fields as you can with the actual values relative to the order just submitted.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">_trx</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="na">event</span><span class="p">:</span> <span class="s1">'trackTransaction'</span><span class="p">,</span>
        <span class="na">transaction</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="s1">'ABC123'</span><span class="p">,</span> <span class="c1">// Order ID</span>
            <span class="na">subtotal</span><span class="p">:</span> <span class="mf">123.45</span><span class="p">,</span>
            <span class="na">shipping</span><span class="p">:</span> <span class="mf">3.5</span><span class="p">,</span>
            <span class="na">discount</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
            <span class="na">total</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="c1">// Required</span>
            <span class="na">coupon</span><span class="p">:</span> <span class="s1">'CPN'</span><span class="p">,</span> 
            <span class="na">currency</span><span class="p">:</span> <span class="s1">'EUR'</span><span class="p">,</span> <span class="c1">// EUR by default</span>
        <span class="p">},</span>
        <span class="na">items</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mf">12.34</span><span class="p">,</span> <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="c1">// Same format as viewBasket</span>
            <span class="p">{</span><span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="na">price</span><span class="p">:</span> <span class="mf">23.45</span><span class="p">,</span> <span class="na">quantity</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="p">],</span>
        <span class="na">address</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">address</span><span class="p">:</span> <span class="s1">'test'</span><span class="p">,</span>
            <span class="na">address2</span><span class="p">:</span> <span class="s1">'test'</span><span class="p">,</span>
            <span class="na">city</span><span class="p">:</span> <span class="s1">'Test'</span><span class="p">,</span>
            <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'70121'</span><span class="p">,</span>
            <span class="na">country</span><span class="p">:</span> <span class="s1">'IT'</span><span class="p">,</span>
            <span class="na">phone</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
            <span class="na">phoneMobile</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">customer</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Nome'</span><span class="p">,</span>
            <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Cognome'</span><span class="p">,</span>
            <span class="na">company</span><span class="p">:</span> <span class="s1">'Ragione sociale'</span><span class="p">,</span>
            <span class="na">email</span><span class="p">:</span> <span class="s1">'indirizzo@email.it'</span><span class="p">,</span>
            <span class="na">birthdate</span><span class="p">:</span> <span class="s1">'1900-01-01'</span><span class="p">,</span> <span class="c1">// YYYY-MM-DD</span>
            <span class="na">gender</span><span class="p">:</span> <span class="s1">'m'</span><span class="p">,</span> <span class="c1">// m o f</span>
            <span class="na">optin</span><span class="p">:</span> <span class="kc">true</span> <span class="c1">// if the users opted in to receiving commercial offers</span>
        <span class="p">},</span>
        <span class="c1">// Example of integration of ads directly in the page</span>
        <span class="na">touchpointType</span><span class="p">:</span> <span class="s1">'web'</span><span class="p">,</span> <span class="c1">// Allowed values: web, mail, auto. Default: mail</span>
        <span class="na">touchpointId</span><span class="p">:</span> <span class="s1">'123'</span> <span class="c1">// Optional, only if touchpointType is 'web' or 'auto'</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre></div></div>

<h2 id="automatic-touchpoint-selection">Automatic touchpoint selection</h2>
<p>By setting <code class="highlighter-rouge">auto</code> as <code class="highlighter-rouge">touchpointType</code>, the best touchpoint will be activated automatically according to the values provided. In case the web touchpoint is activated and no <code class="highlighter-rouge">touchpointId</code> is provided, the default one will be used.</p>

<h2 id="web-and-auto-touchpoints">Web and auto touchpoints</h2>
<p>If you are using a web (or auto) touchpoint, you should define where you want the offers to appear in your page.
To do this, insert a <code class="highlighter-rouge">&lt;div id="tr_touchpoint_container"&gt;&lt;/div&gt;</code> in the desired place.</p>

<h2 id="offers-banner">Offers banner</h2>
<p>If you want to use the banner version of the web touchpoint, you have two available layouts to choose from: horizontal (default) or vertical.</p>

<p><img src="images/banner_horizontal.png" alt="Horizontal banner" class="img-responsive" /></p>

<p>You can enable a vertical layout by adding the <code class="highlighter-rouge">tr-touchpoint-layout-vertical</code> class to the <code class="highlighter-rouge">&lt;div&gt;</code> like this:<br />
 <code class="highlighter-rouge">&lt;div id="tr_touchpoint_container" class="tr-touchpoint-layout-vertical"&gt;&lt;/div&gt;</code> <br />
The banner will appear similar to the following:
<img src="images/banner_vertical.png" alt="Banner verticale" class="img-responsive" /></p>


    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2018 -2015 Transactionale - FlyerTech s.r.l. All rights reserved. <br />
 Site last generated: Apr 4, 2018 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
